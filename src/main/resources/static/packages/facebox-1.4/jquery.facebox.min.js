!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function o(o){if(e.facebox.settings.inited)return!0;e.facebox.settings.inited=!0,e(document).trigger("init.facebox"),a();var c=e.facebox.settings.imageTypes.join("|");e.facebox.settings.imageTypesRegexp=new RegExp("\\.("+c+")(\\?.*)?$","i"),o&&e.extend(e.facebox.settings,o),e("body").append(e.facebox.settings.faceboxHtml);var n=[new Image,new Image];n[0].src=e.facebox.settings.closeImage,n[1].src=e.facebox.settings.loadingImage,e("#facebox").find(".b:first, .bl").each(function(){n.push(new Image),n.slice(-1).src=e(this).css("background-image").replace(/url\((.+)\)/,"$1")}),e("#facebox .close").click(e.facebox.close).append('<img src="'+e.facebox.settings.closeImage+'" class="close_image" title="close">')}function c(){var e,o;return self.pageYOffset?(o=self.pageYOffset,e=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(o=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(o=document.body.scrollTop,e=document.body.scrollLeft),new Array(e,o)}function n(){var e;return self.innerHeight?e=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&(e=document.body.clientHeight),e}function a(){var o=e.facebox.settings;o.loadingImage=o.loading_image||o.loadingImage,o.closeImage=o.close_image||o.closeImage,o.imageTypes=o.image_types||o.imageTypes,o.faceboxHtml=o.facebox_html||o.faceboxHtml}function t(o,c){if(o.match(/#/)){var n=window.location.href.split("#")[0],a=o.replace(n,"");if("#"==a)return;e.facebox.reveal(e(a).html(),c)}else o.match(e.facebox.settings.imageTypesRegexp)?i(o,c):f(o,c)}function i(o,c){var n=new Image;n.onload=function(){e.facebox.reveal('<div class="image"><img src="'+n.src+'" /></div>',c)},n.src=o}function f(o,c){e.facebox.jqxhr=e.get(o,function(o){e.facebox.reveal(o,c)})}function s(){return 0==e.facebox.settings.overlay||null===e.facebox.settings.opacity}function l(){return s()?void 0:(0==e("#facebox_overlay").length&&e("body").append('<div id="facebox_overlay" class="facebox_hide"></div>'),e("#facebox_overlay").hide().addClass("facebox_overlayBG").css("opacity",e.facebox.settings.opacity).click(function(){e(document).trigger("close.facebox")}).fadeIn(200),!1)}function d(){return s()?void 0:(e("#facebox_overlay").fadeOut(200,function(){e("#facebox_overlay").removeClass("facebox_overlayBG"),e("#facebox_overlay").addClass("facebox_hide"),e("#facebox_overlay").remove()}),!1)}e.facebox=function(o,c){e.facebox.loading(o.settings||[]),o.ajax?f(o.ajax,c):o.image?i(o.image,c):o.div?t(o.div,c):e.isFunction(o)?o.call(e):e.facebox.reveal(o,c)},e.extend(e.facebox,{settings:{opacity:.2,overlay:!0,loadingImage:"//cdn.jsdelivr.net/jquery.facebox/1.4.1/loading.gif",closeImage:"//cdn.jsdelivr.net/jquery.facebox/1.4.1/closelabel.png",imageTypes:["png","jpg","jpeg","gif"],faceboxHtml:'    <div id="facebox" style="display:none;">       <div class="popup">         <div class="content">         </div>         <a href="#" class="close"></a>       </div>     </div>'},loading:function(){return o(),1==e("#facebox .loading").length?!0:(l(),e("#facebox .content").empty().append('<div class="loading"><img src="'+e.facebox.settings.loadingImage+'"/></div>'),e("#facebox").show().css({top:c()[1]+n()/10,left:e(window).width()/2-e("#facebox .popup").outerWidth()/2}),e(document).bind("keydown.facebox",function(o){return 27==o.keyCode&&e.facebox.close(),!0}),void e(document).trigger("loading.facebox"))},reveal:function(o,c){e(document).trigger("beforeReveal.facebox"),c&&e("#facebox .content").addClass(c),e("#facebox .content").empty().append(o),e("#facebox .popup").children().fadeIn("normal"),e("#facebox").css("left",e(window).width()/2-e("#facebox .popup").outerWidth()/2),e(document).trigger("reveal.facebox").trigger("afterReveal.facebox")},close:function(){return e(document).trigger("close.facebox"),!1}}),e.fn.facebox=function(c){function n(){e.facebox.loading(!0);var o=this.rel.match(/facebox\[?\.(\w+)\]?/);return o&&(o=o[1]),t(this.href,o),!1}if(0!=e(this).length)return o(c),this.bind("click.facebox",n)},e(document).bind("close.facebox",function(){e.facebox.jqxhr&&(e.facebox.jqxhr.abort(),e.facebox.jqxhr=null),e(document).unbind("keydown.facebox"),e("#facebox").fadeOut(function(){e("#facebox .content").removeClass().addClass("content"),e("#facebox .loading").remove(),e(document).trigger("afterClose.facebox")}),d()})});
//# sourceMappingURL=jquery.facebox.min.js.map